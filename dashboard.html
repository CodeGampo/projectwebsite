<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Profile</title>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <nav class="navigation-bar">
            <ul>
                <li>
                    <a href="home.html">Home</a>
                </li>
                <li>
                    <a href="profile.html">Profile</a>
                </li>
                <li>
                    <a href="dashboard.html" class="active">Dashboard</a>
                </li>
                <li>
                    <a href="faq.html">FAQ</a>
                </li>
                <li>
                    <a href="blog.html">Blog</a>
                </li>
            </ul>
            <a href="https://hz.nl/" class="nav-logo" target="_blank">
                <img
                    src="hz-university-of-applied-sciences.png"
                    alt="HZ University of Applied Sciences logo">
            </a>
        </nav>
        <header>
            <h1>Dashboard</h1>
        </header>
        <main>
            <div>
                <label for="progress">Progress:</label>
                <progress id="progress" value="0" max="60"></progress>
                <span id="progress-text" class="progress-text">0/60 EC</span>
            </div>
        </main>
        <div class="container-dashboard">
            <div class="semester">
                <h2>Semester 1 - Block 1</h2>
                <table>
                    <tr>
                        <th>Course Name</th>
                        <th>Course Code</th>
                        <th>Credits</th>
                        <th>Assessment Type</th>
                        <th>Grade Achieved</th>
                    </tr>
                    <tr>
                        <td>Program- & Career Orientation</td>
                        <td>CU75001V3</td>
                        <td>2.5</td>
                        <td>Individual process assessment</td>
                        <td><input type="number" class="grade-input" min="0" max="10" step="0.1"></td>
                    </tr>
                    <tr>
                        <td>Computer Science Basics</td>
                        <td>CU75002V2</td>
                        <td>5</td>
                        <td>Exam (in class)</td>
                        <td><input type="number" class="grade-input" min="0" max="10" step="0.1"></td>
                    </tr>
                    <tr>
                        <td>Programming Basics</td>
                        <td>CU75003V1</td>
                        <td>5</td>
                        <td>Case test (written knowledge test)</td>
                        <td><input type="number" class="grade-input" min="0" max="10" step="0.1"></td>
                    </tr>
                    <tr>
                        <td>Object-Oriented Programming</td>
                        <td>CU75004V1</td>
                        <td>10</td>
                        <td>Presentation and written knowledge test</td>
                        <td><input type="number" class="grade-input" min="0" max="10" step="0.1"></td>
                    </tr>
                </table>
            </div>
            <div class="semester">
                <h2>Semester 2 - Block 1 & 2</h2>
                <table>
                    <tr>
                        <th>Course Name</th>
                        <th>Course Code</th>
                        <th>Credits</th>
                        <th>Assessment Type</th>
                        <th>Grade Achieved</th>
                    </tr>
                    <tr>
                        <td>Framework project 1</td>
                        <td>CU75080V1</td>
                        <td>10</td>
                        <td>2x Written knowledge test and 2x Assignments</td>
                        <td><input type="number" class="grade-input" min="0" max="10" step="0.1"></td>
                    </tr>
                    <tr>
                        <td>Framework Project 2</td>
                        <td>CU75011V3</td>
                        <td>10</td>
                        <td>3x portfolios</td>
                        <td><input type="number" class="grade-input" min="0" max="10" step="0.1"></td>
                    </tr>
                    <tr>
                        <td>Business IT Consultancy Basics</td>
                        <td>CU75081V1</td>
                        <td>2.5</td>
                        <td>Assignment (Individual)</td>
                        <td><input type="number" class="grade-input" min="0" max="10" step="0.1"></td>
                    </tr>
                    <tr>
                        <td>Personal Professional Development Exploration</td>
                        <td>CU75068V3</td>
                        <td>12.5</td>
                        <td>Criterion-referenced assessment</td>
                        <td><input type="number" class="grade-input" min="0" max="10" step="0.1"></td>
                    </tr>
                </table>
            </div>
            <div class="semester">
                <h2>IT Personality (Continuous)</h2>
                <table>
                    <tr>
                        <th>Course Name</th>
                        <th>Course Code</th>
                        <th>Credits</th>
                        <th>Assessment Type</th>
                        <th>Completion</th>
                    </tr>
                    <tr>
                        <td>IT Personality - Project Week 1</td>
                        <td>CU75054V1</td>
                        <td>1.25</td>
                        <td>Portfolio</td>
                        <td><input type="checkbox" class="completion-checkbox"></td>
                    </tr>
                    <tr>
                        <td>IT Personality - International Week</td>
                        <td>CU75055V1</td>
                        <td>1.25</td>
                        <td>Portfolio</td>
                        <td><input type="checkbox" class="completion-checkbox"></td>
                    </tr>
                    <tr>
                        <td>IT Personality 1</td>
                        <td>CU75056V1</td>
                        <td>1.25</td>
                        <td>Portfolio</td>
                        <td><input type="checkbox" class="completion-checkbox"></td>
                    </tr>
                    <tr>
                        <td>IT Personality 2</td>
                        <td>CU75057V1</td>
                        <td>1.25</td>
                        <td>Portfolio</td>
                        <td><input type="checkbox" class="completion-checkbox"></td>
                    </tr>
                </table>
            </div>
        </div>
        <footer class="footer">
            <p>Author: Sebastiaan Demmers, 2024</p>
        </footer>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const gradeInputs = document.querySelectorAll('.grade-input');
                const completionCheckboxes = document.querySelectorAll('.completion-checkbox');
                const progressBar = document.getElementById('progress');
                const progressText = document.getElementById('progress-text');
                const nbsaBoundary = 45;
                let totalCredits = 42.5;

                gradeInputs.forEach(input => {
                    input.addEventListener('input', updateProgress);
                });

                completionCheckboxes.forEach(checkbox => {
                    checkbox.addEventListener('change', updateProgress);
                });

                function updateProgress() {
                    let achievedCredits = 0;

                    gradeInputs.forEach(input => {
                        const grade = parseFloat(input.value);
                        const credits = parseFloat(input.closest('tr').children[2].textContent);
                        const row = input.closest('tr');

                        if (grade >= 5.5) {
                            achievedCredits += credits;
                            row.style.backgroundColor = '#428f28';/* green*/
                        } else if (grade > 0) {
                            row.style.backgroundColor = '#b20606';/* red */
                        } else {
                            row.style.backgroundColor = '';
                        }
                    });

                    completionCheckboxes.forEach(checkbox => {
                        const credits = parseFloat(checkbox.closest('tr').children[2].textContent);
                        const row = checkbox.closest('tr');

                        if (checkbox.checked) {
                            achievedCredits += credits;
                            row.style.backgroundColor = '#f4f4f4';/* White */
                            row.style.backgroundColor = '#428f28';/* Green */
                        } else {
                            row.style.backgroundColor = '';
                        }
                    });
                    progressBar.value = achievedCredits;
                    progressText.textContent = `${achievedCredits}/60 EC`;

                    if (achievedCredits >= nbsaBoundary) {
                        progressText.style.color = '#428f28';/* Green  */
                    } else {
                        progressText.style.color = '#B80000';/* Red */
                    }
                }
            });
        </script>
    </body>
</html>